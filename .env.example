# SetSelect - CV Parser Service Environment Variables

# ==========================================
# REQUIRED VARIABLES
# ==========================================

# Internal API key for securing the parser endpoint
# IMPORTANT: This must match the PARSER_API_KEY in the frontend .env
# Generate a strong random key for production
INTERNAL_API_KEY="your-secure-api-key-here"

# Supabase configuration (SetSelect project)
SUPABASE_URL="https://your-setselect-project.supabase.co"
SUPABASE_SERVICE_ROLE_KEY="your-supabase-service-role-key"

# OpenAI API key for CV parsing (used when AZURE_OPENAI_ENDPOINT is NOT set)
OPENAI_API_KEY="sk-proj-your-openai-api-key-here"

# Azure OpenAI configuration (takes precedence when AZURE_OPENAI_ENDPOINT is set)
# AZURE_OPENAI_API_KEY="your-azure-openai-api-key"
# AZURE_OPENAI_ENDPOINT="https://aoai-setselect.openai.azure.com/"
# AZURE_OPENAI_API_VERSION="2024-10-21"
# AZURE_OPENAI_DEPLOYMENT_PARSING="gpt-4o"

# ==========================================
# OPTIONAL CONFIGURATION
# ==========================================

# Confidence threshold (0-100) - Fields below this confidence are filtered out
# Default: 70
CONFIDENCE_THRESHOLD=70

# Enable two-pass parsing for ambiguous fields
# When enabled, critical uncertain fields get a second focused extraction pass
# Default: true
ENABLE_TWO_PASS=true

# Enable field inference logic
# When enabled, missing fields are inferred from other extracted data
# Examples: Calculate years_of_experience from work history, infer locations, etc.
# Default: true
ENABLE_INFERENCE=true

# Enable AI-powered profile picture extraction from CVs
# Uses OpenAI Vision API to identify and extract profile pictures
# Default: true
ENABLE_PROFILE_PICTURE_EXTRACTION=true

# Vision API timeout in milliseconds
# Default: 10000 (10 seconds)
VISION_API_TIMEOUT_MS=10000

# Minimum confidence threshold for profile picture detection (0-100)
# Default: 60
MIN_CONFIDENCE_THRESHOLD=60

# Server port
# Default: 3002
PORT=3002
